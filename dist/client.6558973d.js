webpackJsonp([1,2],[,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"INCREMENT_COUNT",function(){return o}),n.d(e,"DECREMENT_COUNT",function(){return s}),n.d(e,"ADD_MESSAGE",function(){return a}),n.d(e,"INIT_SESSIONS",function(){return i}),n.d(e,"SOCKET_CONNECT",function(){return r}),n.d(e,"SOCKET_DISCONNECT",function(){return c}),n.d(e,"SOCKET_RESPONSE",function(){return u}),n.d(e,"SOCKET_GET_CONVERSATION_LIST",function(){return l});var o="INCREMENT_COUNT",s="DECREMENT_COUNT",a="ADD_MESSAGE",i="INIT_SESSIONS",r="SOCKET_CONNECT",c="SOCKET_DISCONNECT",u="SOCKET_RESPONSE",l="SOCKET_GET_CONVERSATION_LIST"},,,,,,,,,,,,,,function(t,e,n){"use strict";var o=n(16),s=n(129),a=n(27),i=n(46),r=n(47),c=(n.n(r),n(51)),u=n(48),l=n(49),d=n(50),f=n(52);o.a.use(s.a);var p={appkey:"",loading:!0,account:"",window:!1,token:"",currentaccount:"",currentsession:"",personinfo:{},friends:[],msgs:{},job:{},history:!1,historyData:[],sessions:[],realsessions:[],blacklist:[],sysMsgs:[],inWindow:!1,grouplist:[],resume:{},isMobile:!1,newHistoryData:[],jobInfo:{},step:0,showMoreItems:!1,locations:[],requestUrl:"http://mtest2.zhaopin.com/",version:"1.0.0",platform:n.i(f.a)()};e.a=new s.a.Store({state:p,actions:i,mutations:c.a,getters:r,modules:{counter:u.a,messages:l.a,socketio:d.a}}),1!==p.platform&&2!==p.platform||a.a.replace("/m"),window.STATE=p},,,,,,,,,,function(t,e,n){"use strict";var o=n(16),s=n(125),a=n(117),i=n.n(a),r=n(119),c=n.n(r);o.a.use(s.a),e.a=new s.a({mode:"history",routes:[{path:"/",component:i.a},{path:"/m",component:c.a}]})},function(t,e,n){"use strict";function o(){return u()(i.a.state.account+""+i.a.state.token+ +new Date)}var s=n(18),a=n.n(s),i=n(17),r=n(53),c=n(63),u=n.n(c);n.d(e,"a",function(){return l}),e.b=o;var l=r.a;(function(){"function"!=typeof a.a&&(Object.assign=function(t){if(null===t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!==n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t})})(),function(){"localStorage"in window||(window.localStorage=function(){var t=void 0,e=!!document.all;return e&&(t=document.documentElement,t.addBehavior("#default#userdata")),{setItem:function(n,o){e?(t.setAttribute("value",o),t.save(n)):window.globalStorage[location.hostname][n]=o},getItem:function(n){return e?(t.load(n),t.getAttribute("value")):window.globalStorage[location.hostname][n]},removeItem:function(n){e?(t.removeAttribute("value"),t.save(n)):window.globalStorage[location.hostname].removeItem(n)}}}())}()},,,,,,,,,,,,,,,function(t,e,n){"use strict";var o=n(62),s=n.n(o),a=n(16),i=n(126),r=(n.n(i),n(128)),c=(n.n(r),n(115)),u=n.n(c),l=n(27),d=n(17),f=n(109),p=n.n(f),v=n(28);n.d(e,"a",function(){return _}),n.i(r.sync)(d.a,l.a);var m=navigator.userAgent.toLowerCase();/macintos|mac os x/i.test(m);n.i(v.a)({url:"Im/GetToken?uticket="+p.a.get("rt"),success:function(t){console.log("@@@@@@@@@@@@@@",t),console.log("........ STORE",d.a),d.a.state.account=t.data.accid,d.a.state.token=t.data.token}}),Notification.requestPermission();var _=new a.a(s()({router:l.a,store:d.a},u.a))},function(t,e,n){"use strict";var o=n(112),s=n.n(o);window.Promise=window.Promise||s.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(110),s=n.n(o);s.a.install({onUpdateReady:function(){console.log("update ready"),s.a.applyUpdate()},onUpdated:function(){console.log("updated"),location.reload()}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3);n.d(e,"incrementAsync",function(){return s});var s=function(t){var e=t.commit;setTimeout(function(){e(o.INCREMENT_COUNT)},200)}},function(t,e){},function(t,e,n){"use strict";var o,s=n(10),a=n.n(s),i=n(3),r={},c={count:0},u={},l=(o={},a()(o,i.INCREMENT_COUNT,function(t){t.count+=2}),a()(o,i.DECREMENT_COUNT,function(t){t.count-=2}),o);e.a={state:c,getters:r,actions:u,mutations:l}},function(t,e,n){"use strict";var o=n(10),s=n.n(o),a=n(3),i={},r={messages:[]},c={},u=s()({},a.ADD_MESSAGE,function(t,e){t.messages.push(e)});e.a={state:r,getters:i,actions:c,mutations:u}},function(t,e,n){"use strict";function o(t){t.socket.on("response",function(t){console.log("ON RESPONSE: ",t);var e=t.header.group+"-"+t.header.signall,n=JSON.parse(t.body);switch(e){case"3-2":200===Number(n.code)&&(console.log("获取会话列表成功：",{header:t.header,body:JSON.parse(t.body)}),n.hasOwnProperty("list")&&(console.log("&&&&&&&&&&&&",u.a),u.a.commit(d.INIT_SESSIONS,n.list)))}}),t.socket.on("out",function(t){console.log("ON OUT: ",t)})}var s,a=n(10),i=n.n(a),r=n(59),c=n.n(r),u=(n(16),n(17)),l=n(28),d=n(3),f=navigator.userAgent.toLowerCase(),p=/macintos|mac os x/i.test(f),v=p?4:3,m="http://im05.zhaopin.cn",_={},E={socket:null},O={socket_connect:function(t){var e=io.connect(m+"?device_id=651702467&token=fb83918fc04647eaa7813b4b06bd5eb3&device_type="+v);t.commit(d.SOCKET_CONNECT,{socket:e})},socket_publish:function(t,e){console.log("socket publish: ",t),t.emit("publish",{header:{version:1,type:1,group:3,signall:2,unique:n.i(l.b)()},body:c()({conversationType:e.conversationType||"1"})})},socket_getConversationList:function(t,e){console.log("++++ socket_getConversationList: ",t),t.state.socket.emit("publish",{header:{version:1,type:1,group:3,signall:2,unique:n.i(l.b)()},body:c()({conversationType:e.conversationType||"1"})})}},S=(s={},i()(s,d.SOCKET_CONNECT,function(t,e){t.socket=e.socket,console.log("======== socket connected! =========",t),o(t),u.a.dispatch("socket_getConversationList",{conversationType:1})}),i()(s,d.SOCKET_DISCONNECT,function(t){console.log("======== socket disconnected! ========="),t.connect=!1}),i()(s,d.SOCKET_RESPONSE,function(t,e){console.log("........... response: ",e)}),i()(s,d.SOCKET_GET_CONVERSATION_LIST,function(t,e){console.log(".... SOCKET_GET_CONVERSATION_LIST",t)}),s);e.a={state:E,getters:_,actions:O,mutations:S}},function(t,e,n){"use strict";var o=n(10),s=n.n(o),a=n(3);n.d(e,"a",function(){return i});var i=s()({},a.INIT_SESSIONS,function(t,e){console.log("^^^^^^^^^",t),t.sessions=e})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){var t=-1,e=navigator.platform.toLowerCase(),n=navigator.userAgent.toLowerCase();return"win32"===e||"windows"===e?t=3:"mac68k"===e||"macppc"===e||"macintosh"===e||"macintel"===e?t=4:n.indexOf("android")>0?t=2:(n.indexOf("iphone")>0||n.indexOf("ipad")>0||n.indexOf("ipod")>0)&&(t=1),t}},function(t,e,n){"use strict";var o=n(18),s=n.n(o),a=n(61),i=n.n(a);n.d(e,"a",function(){return u});var r=n(108),c=function(){},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.success||c,n=t.error||c,o=""+STATE.requestUrl+t.url;return new i.a(function(a,i){r.ajax(s()({type:"GET"},t,{url:o,dataType:"jsonp",jsonp:"callback",jsonpCallback:"JsonCallback",success:function(t){200===Number(t.StatusCode)?(a(t),e(t)):(e(t),i(t),console.log("返回错误：",t.StatusDescription))},error:function(t){i(t),n(t),console.log("请求失败：",t)}}))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(3);e.default={computed:{state:function(){return this.$store.state}},created:function(){console.log("created: ",this),this.$store.dispatch("socket_connect")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),s=n.n(o),a=n(116),i=n.n(a);e.default={components:{Session:s.a,Chat:i.a},created:function(){console.log(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){t.exports=n.p+"static/media/loading.bafb198b.gif"},,,,,,,,function(t,e,n){n(104);var o=n(9)(n(54),n(122),null,null);t.exports=o.exports},function(t,e,n){n(105);var o=n(9)(n(55),n(123),null,null);t.exports=o.exports},function(t,e,n){n(102);var o=n(9)(n(56),n(120),"data-v-050fe470",null);t.exports=o.exports},function(t,e,n){n(106);var o=n(9)(n(57),n(124),null,null);t.exports=o.exports},function(t,e,n){n(103);var o=n(9)(n(58),n(121),"data-v-155a4813",null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"zpm-im"},[n("session"),t._v(" "),n("chat")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("这是移动端页面")])])}]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view"),t._v(" "),o("transition",{attrs:{name:"loading-transition","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.state.loading?o("div",{staticClass:"zpm-loading"},[o("img",{attrs:{src:n(107),alt:"加载中"}})]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"zpm-chat"})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"zpm-session"})},staticRenderFns:[]}},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(n(44),n(43));n(45),o.a.$mount("#app")}],[130]);
//# sourceMappingURL=client.6558973d.js.map